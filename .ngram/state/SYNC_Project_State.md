# Project â€” Sync: Current State

```
LAST_UPDATED: 2025-12-20
UPDATED_BY: codex (archive duplication verification)
```

---

## CURRENT STATE

Added `@ngram:todo` marker support to the special-marker workflow (doctor + solve-markers) and refreshed protocol files via `ngram init`. The .ngram folder was regenerated from templates; previous SYNC narrative was replaced by the template and has been rewritten here with the current changes only. Consolidated the TUI archive SYNC docs by keeping `docs/tui/archive/SYNC_TUI_State_Archive_2025-12.md` as canonical and referencing it from `docs/tui/archive/SYNC_Archive_2024-12.md`. Filled missing SCOPE/DATA sections in `docs/llm_agents/PATTERNS_Provider_Specific_LLM_Subprocesses.md` to resolve DOC_TEMPLATE_DRIFT.

---

## ACTIVE WORK

None. Todo marker support and docs refresh complete; no follow-up task currently in progress.

---

## RECENT CHANGES

### 2025-12-20: Todo marker support

- **What:** Added `@ngram:todo` marker detection to doctor and solve-markers, updated protocol/CLI docs, and refreshed generated protocol files via `ngram init`.
- **Why:** Allows agents and managers (especially during reviews) to record actionable tasks that appear in the doctor workflow.
- **Impact:** Special-marker scanning now includes TODO items alongside escalations and propositions.

### 2025-12-20: Archive duplication check

- **What:** Verified the CLI/TUI archive consolidation state and ensured the canonical TUI archive keeps the 2024-12 snapshot with the older file reduced to a reference.
- **Why:** Confirms the DOC_DUPLICATION warning is resolved without introducing new redundant content.
- **Impact:** Archive references remain canonical and scoped to their modules.

---

## KNOWN ISSUES

| Issue | Severity | Area | Notes |
|-------|----------|------|-------|
| Project SYNC was reset by `ngram init` | warning | `.ngram/state/` | Prior detailed state is not restored here; only current change notes are captured. |

---

## HANDOFF: FOR AGENTS

**Likely VIEW for continuing:** `VIEW_Extend_Add_Features_To_Existing.md`

**Current focus:** No active work; review todo marker docs if adjustments are needed.

**Key context:** `@ngram:todo` markers are now detected by `ngram doctor` and `ngram solve-markers`.

**Watch out for:** `ngram init` overwrites `.ngram/` content; re-run only when regeneration is desired.

---

## HANDOFF: FOR HUMAN

**Executive summary:** Added todo marker support across doctor/solve-markers and refreshed the generated protocol files with `ngram init`.

**Decisions made recently:** Treat todo markers as info-level special markers for task triage.

**Needs your input:** None.

**Concerns:** None beyond the SYNC reset note above.

---

## TODO

### High Priority

- [ ] Review whether TODO markers should be warning-level instead of info-level.

### Backlog

- [ ] Decide if the doctor should skip all docs/ views for special markers or only templates/views (currently skips templates + .ngram/views).

---

## Agent Observations

### Remarks
- Added missing SCOPE/DATA sections to the LLM agent patterns doc to resolve DOC_TEMPLATE_DRIFT.

### Suggestions
- None.

### Propositions
- None.

---

## CONSCIOUSNESS TRACE

**Project momentum:** Moving; todo marker support landed with docs updates and init refresh.

**Architectural concerns:** None observed in this change set.

**Opportunities noticed:** Tighten special-marker guidance in review workflows if needed.

---

## AREAS

| Area | Status | SYNC |
|------|--------|------|
| `cli/` | active | `docs/cli/SYNC_CLI_Development_State.md` |
| `protocol/` | active | `docs/protocol/SYNC_Protocol_Current_State.md` |
| `protocol/features/doctor/` | active | `docs/protocol/features/doctor/SYNC_Project_Health_Doctor.md` |

---

## MODULE COVERAGE

Check `modules.yaml` (project root) for full manifest.

**Mapped modules:**
| Module | Code | Docs | Maturity |
|--------|------|------|----------|
| cli | `ngram/` | `docs/cli/` | CANONICAL |
| llm_agents | `ngram/llms/` | `docs/llm_agents/` | DESIGNING |
| tui | `ngram/tui/` | `docs/tui/` | DESIGNING |
| tui_widgets | `ngram/tui/widgets/` | `docs/tui/` | DESIGNING |
| core_utils | `ngram/core_utils.py` | `docs/core_utils/` | CANONICAL |

**Unmapped code:** (run `ngram validate` to check)
- Not reviewed in this change set.

**Coverage notes:** `modules.yaml` was regenerated by `ngram init` and may need reconciliation with any local edits.
