# Query Expected Outputs

What each query returns and why it matters for gameplay.

---

## CHARACTER QUERIES

### Who is at York right now?
**Quality: 9/10**

Returns a list of characters currently present at York with their type (player, companion, major, minor, background) and visibility status. You might see Sheriff Malet (major, visible), a few Norman soldiers (minor, visible), and perhaps Archil hiding in the shadows (minor, not visible). This is your cast list for any scene set in York—who can the player interact with, who might overhear conversations, who's lurking unseen.

### All living companions and their current locations
**Quality: 10/10**

Returns your party roster: Aldric at the camp, Wulfric in the forest, Edith at Beverley. Each companion shows their current location and whether they're visible or hiding. This is the "where is everyone" query you'll run constantly—before sending someone on a mission, before a battle, before any plan that requires knowing where your people are scattered across the North.

### Characters hiding (present but not visible)
**Quality: 8/10**

Returns characters who are at a location but concealed—assassins waiting in ambush, spies watching from shadows, refugees hiding from Norman patrols. Might show Siward Barn's men hidden in the Cleveland Hills, or a thief lurking near the York treasury. These are your dramatic reveals waiting to happen, your "suddenly, a figure emerges from the darkness" moments.

### Normans vs Saxons - characters by faction
**Quality: 7/10**

Returns characters who strongly believe Norman-aligned narratives—those who've accepted the conquest, collaborate with the new order, or actively support William's rule. You might see Waltheof (torn loyalties), certain merchants (pragmatic survival), or church officials (backing legitimate authority). Useful for identifying who can be trusted with what information, though faction loyalty is complex and this is just one signal.

### Characters who have witnessed something
**Quality: 8/10**

Returns firsthand accounts—characters who saw events themselves rather than hearing about them secondhand. "Aldric witnessed the burning of Thornwick" carries more weight than "Aldric heard about the burning." These are your reliable sources, your courtroom witnesses, the people whose testimony can't be dismissed as rumor. When truth matters, find the witnesses.

### Characters with a specific flaw
**Quality: 6/10**

Returns characters sharing a particular weakness—all the doubters, all the prideful, all those consumed by wrath. Searching for "doubt" might return Waltheof (uncertain of his choices), Reinfrid (questioning his faith), characters whose conviction wavers. Useful when crafting scenes that test specific weaknesses, or when looking for characters vulnerable to particular manipulations.

### The cunning ones
**Quality: 6/10**

Returns schemers and plotters—characters whose approach to problems is indirect, manipulative, clever rather than straightforward. You might find Archil (resistance coordinator), certain Norman administrators, merchants who've survived by wit. These characters won't charge into battle; they'll set traps, spread rumors, play factions against each other. Handle them carefully.

### Dead characters and how they died
**Quality: 7/10**

Returns the fallen and their stories—characters marked as no longer alive, along with any narratives describing their deaths. "Earl Copsi, burned at Newburn" or "Harold Godwinson, fell at Hastings." The dead still matter in this world; their deaths create debts, fuel vengeance, and haunt the living. This query maps the graves that drive the story.

---

## KNOWLEDGE & BELIEFS

### What does Aldric know?
**Quality: 10/10**

Returns everything a specific character has heard, with certainty levels and sources. Aldric might know about Rolf's oath (certain, witnessed it), rumors of Danish ships (uncertain, heard from a merchant), and the location of Wulfric's camp (certain, been there). This is the character's mental inventory—what they can share, what they might lie about, what they're not sure of themselves.

### Who knows about the oath sworn to Gospatric?
**Quality: 9/10**

Returns everyone aware of a specific narrative—tracking how far a piece of information has spread. The oath might be known by Rolf (originated it), Aldric (witnessed it), Gospatric (received it), and perhaps a servant who overheard (uncertain, keeping quiet). This maps the information network around a single crucial fact.

### Secrets - narratives that characters are hiding
**Quality: 10/10**

Returns concealed knowledge—things characters know but actively suppress. Malet might hide knowledge of Harold's burial location, Aethelwine might conceal the cathedral's secret passages, a servant might hide witnessing a murder. These are your revelation moments, your blackmail opportunities, your "I know what you did" confrontations waiting to happen.

### Conflicting beliefs - characters who doubt what they've heard
**Quality: 8/10**

Returns internal conflict—characters who've heard something but aren't sure they believe it. Someone might have heard that the Danes are coming (high heard) but doubt the source (high doubt). These characters are persuadable, uncertain, potentially useful as they haven't committed to a position. They're also realistic—not everyone believes everything they hear.

### Who originated this narrative?
**Quality: 9/10**

Returns the source of a story—who first told it, who created it. Tracing a rumor back might reveal it started with a Norman spy (disinformation), a frightened refugee (genuine fear), or was deliberately planted by the resistance (propaganda). The origin often reveals the truth value and purpose of information.

### Narrative spread - who told whom
**Quality: 8/10**

Returns the information chain—how knowledge moved from person to person. A secret might have gone from Aldric to Wulfric to Edith, with each link recorded. This lets you trace leaks, identify gossips, understand how your carefully guarded information escaped. In a world of betrayal and intrigue, knowing who talks to whom is power.

### False beliefs - what characters believe that isn't true
**Quality: 10/10**

Returns dramatic irony gold—characters who are certain of things that are actually false. A character might believe their brother is dead (truth: 0.2, he's actually alive in hiding) or that the Normans are planning to retreat (truth: 0.1, they're actually reinforcing). The player knows the truth; watching characters act on lies creates drama, tragedy, and sometimes dark comedy.

### Common knowledge - narratives believed by 3+ characters
**Quality: 7/10**

Returns "what everyone knows"—information that's spread widely enough to be considered public. The Norman conquest is common knowledge; the location of the resistance camp is not. This establishes baseline assumptions characters share, the foundation of public discourse, versus the secrets and rumors that only some possess.

---

## PLACE & GEOGRAPHY

### All places by type
**Quality: 5/10**

Returns a categorized list of locations—all cities, all villages, all crossings, all ruins. Useful for reference and ensuring data completeness, but not directly gameplay-relevant. You might see 3 cities, 20 villages, 7 crossings, 4 abbeys. A map legend, essentially.

### River crossings - strategic choke points
**Quality: 8/10**

Returns bridges, fords, and ferry points—places where geography forces traffic through narrow passages. Aldwark Ford, Skip Bridge, Ferrybridge, Piercebridge. These are ambush sites, toll collection points, places to watch for enemy movement. Control the crossings and you control movement across the North.

### What's within a day's travel from York?
**Quality: 9/10**

Returns reachable destinations with travel times and terrain types. From York you might reach Tadcaster (4 hours, roman road), Skip Bridge (3 hours, track), or the edge of Galtres Forest (6 hours, forest path). Essential for planning—can we get there and back before dark? Can messengers reach us in time?

### Roman roads - fast travel routes
**Quality: 8/10**

Returns the highway network—ancient stone roads that still carry traffic quickly and safely. Dere Street runs north to Scotland, other roads connect York to Lincoln, to the coast. These are Norman patrol routes (dangerous but fast) and the arteries of commerce and communication. Avoiding them means safety but slower travel.

### Dangerous paths through wilderness
**Quality: 7/10**

Returns risky routes through moor, forest, and marsh—slower, harder, but away from Norman eyes. The path through Galtres Forest, the track across the Cleveland Hills, the way through the marshes. These routes trade speed for concealment, comfort for survival. The resistance lives in these spaces.

### Hidden camps and outlaw hideouts
**Quality: 9/10**

Returns the secret places—Wulfric's camp deep in Galtres, Siward Barn's base in the Cleveland Hills, abandoned Roman forts where desperate men shelter. These are the resistance network, the places that don't appear on Norman maps, the sanctuaries for those who won't submit. Finding them (or keeping them hidden) is crucial.

### Places with dark or fearful mood
**Quality: 7/10**

Returns locations atmospherically suited to danger and dread—places where the mood is hostile, fearful, or desperate. Might include occupied York (tense), burned villages (mournful), or wild moorland (indifferent but threatening). Useful for matching tone to location, for knowing where horror waits.

---

## THINGS & POSSESSIONS

### What is Malet carrying?
**Quality: 9/10**

Returns a character's inventory—the Sheriff's seal (political, visible), perhaps keys to the castle (political, visible), maybe a hidden letter (political, concealed). This is what can be stolen, what grants authority, what might be found if he's searched or killed. Every significant item tells a story.

### All legendary items and their locations
**Quality: 10/10**

Returns the MacGuffins—Harold's sword (location unknown), St. Cuthbert's bones (Durham Cathedral, guarded by Aethelwine), the Ripon Gospels (Ripon Minster). These are quest objects, symbols of legitimacy, things worth killing for. Their locations drive major plot movements.

### Sacred relics and who guards them
**Quality: 9/10**

Returns holy objects and their keepers—the bones, the gospels, the blessed items that command reverence and grant authority. Aethelwine guards Cuthbert's relics; the treasures of York Minster are under Ealdred's care. These items can't simply be stolen; taking them has spiritual and political consequences.

### Hidden treasures - things concealed at places
**Quality: 9/10**

Returns buried gold, stashed weapons, concealed documents—things hidden and waiting to be found. Gospatric's gold buried somewhere in Northumbria, Reinfrid's sword beneath Whitby Abbey, a chest of silver hidden in a ruined fort. Discovery opportunities, secrets that reward exploration.

### Political documents - who controls the paperwork
**Quality: 8/10**

Returns writs, charters, seals, and tax rolls—the bureaucratic infrastructure of power. Malet holds the royal writ for Yorkshire; Durham's ancient charter is with Aethelwine; the tax rolls are in Hugh FitzBaldric's hands. In a world where legitimacy matters, these documents are weapons.

### Weapons in play
**Quality: 7/10**

Returns arms and who bears them—Norman hauberks in the York armory, Aldric's huscarl axe, Alan Rufus's Breton blade. This is the military inventory, the capacity for violence distributed across characters and locations. Before any battle, know who's armed with what.

### Provisions and supplies
**Quality: 6/10**

Returns food, salt, horses, medicine—the logistics of survival. York's grain stores could feed the city for months; the salt at Whitby is essential for winter; the monastery herbs at Whitby might save wounded men. Less glamorous than swords and relics, but armies march on their stomachs.

---

## NARRATIVES

### Oaths - binding promises
**Quality: 9/10**

Returns sworn commitments—Rolf's oath of vengeance, service oaths to various lords, vows before God and witnesses. These constrain behavior; characters can't simply ignore their oaths without consequence. Breaking an oath is possible but costly. The oath network maps who is bound to whom.

### Blood feuds and enmities
**Quality: 9/10**

Returns hatred—relationships poisoned by murder, betrayal, or ancient grievance. The blood between certain families, the enmity between Norman and Saxon, personal vendettas that override pragmatic concerns. These characters will not cooperate, will seek each other's destruction, will sacrifice advantage for revenge.

### Debts owed
**Quality: 8/10**

Returns obligations—who owes what to whom, favors unreturned, prices unpaid. A debt might be financial, or a life saved, or a promise made. Unlike oaths (sworn publicly), debts are often private, but equally binding to honorable characters. The debt network is the favor economy.

### Where did events happen?
**Quality: 8/10**

Returns locations of significant events—where oaths were sworn, where battles occurred, where murders happened. Stamford Bridge is where Harold defeated the Vikings; Newburn is where Copsi was burned. Places carry history; standing where something happened evokes the narrative.

### Contradicting narratives
**Quality: 9/10**

Returns conflicting stories—accounts that cannot both be true. One narrative says Gospatric is loyal to William; another says he plots rebellion. One claims the Danes are coming; another dismisses it as fantasy. These contradictions create mystery, demand investigation, force characters to choose what to believe.

### Rumors spreading through the North
**Quality: 8/10**

Returns active propaganda—narratives of type "rumor" that characters are actively spreading. The word that Danish ships have been sighted, whispers that William is dying, tales of Norman atrocities. These shape public opinion, create fear or hope, and may or may not be true.

### Secrets that could destroy someone
**Quality: 10/10**

Returns devastating knowledge—secrets whose revelation would ruin reputations, end careers, or cost lives. A Norman lord's Saxon bastard, a bishop's embezzlement, a trusted ally's betrayal. These are your nuclear options, your blackmail material, your "I know what you did" moments.

---

## COMPLEX RELATIONSHIP QUERIES

### Who knows what about whom?
**Quality: 9/10**

Returns the gossip network mapped onto relationships—who has heard stories about whom. Aldric knows about Malet's mixed heritage; Gospatric knows about Waltheof's divided loyalties; everyone knows about Cumin's brutality. This maps vulnerabilities: who can be blackmailed, who can be praised, who has reputation to protect.

### Characters at same location with conflicting beliefs
**Quality: 10/10**

Returns confrontations waiting to happen—two characters in the same place who believe contradictory things. If Aldric (who believes Gospatric is trustworthy) is in the same room as Wulfric (who believes Gospatric betrayed them), conflict is inevitable. These are your drama generators, your scene conflict engines.

### The information brokers - who knows the most
**Quality: 8/10**

Returns the well-connected—characters with the highest narrative knowledge count. The archbishop who hears everyone's confessions, the merchant who travels everywhere, the servant who's invisible but always listening. These are your sources, your quest-givers, your people to cultivate for information.

### Isolated characters - knowing little
**Quality: 7/10**

Returns the uninformed—characters present in the world but with minimal narrative knowledge. A farmer who knows only his fields, a soldier who knows only orders. These characters are unpredictable (lacking context for decisions), vulnerable (easily deceived), or simply irrelevant to political intrigue.

### Power brokers - originated many narratives
**Quality: 8/10**

Returns the shapers of reality—characters who created multiple narratives that others now believe. These are the opinion-makers, the agenda-setters, the people whose version of events became the accepted truth. Controlling the narrative means controlling these individuals.

### Shared secrets - characters who both know hidden things
**Quality: 9/10**

Returns conspiracies—pairs of characters who both know and hide the same secret. If Aldric and Edith both hide knowledge of the buried gold, they're bound together by that secret. These shared concealment create trust (or mutual blackmail), factions within factions, hidden alliances.

---

## GAMEPLAY QUERIES

### Scene setup: Who is here and what do they know?
**Quality: 10/10**

Returns everything needed to start a scene—every character present at the location, their visibility, and the narratives each one knows. At York you might have Malet (visible, knows about tax collection and Norman plans), three soldiers (visible, know only orders), and Archil (hidden, knows resistance plans). This is your scene cast and their conversation potential.

### What can the player learn here?
**Quality: 10/10**

Returns available information—narratives known by present characters that they're not hiding. If the player is at Beverley, this shows what the monks know and will share, what the merchants have heard, what the refugees are saying. This is your conversation menu, your "ask about" options.

### Travel options from current location
**Quality: 9/10**

Returns where you can go—destinations reachable from current position with time and terrain. From the camp: York (8 hours, forest then road), the forest depths (2 hours, forest), Boroughbridge (12 hours, track). This is your movement decision interface.

### Things of interest at location
**Quality: 8/10**

Returns interactive objects—items at the current location that aren't hidden. At York Castle: the armory (weapons), the treasury (silver), the tax rolls (documents). Things you can see, examine, potentially take. Your "look around" results.

### Companion status check
**Quality: 10/10**

Returns your party—all living companions with their personality traits and current locations. Aldric (quiet, cautious, flaw: doubt) at the camp; Wulfric (fierce, direct, flaw: wrath) in the forest. This is party management, knowing who you have and what they're like.

### Active threats overview
**Quality: 9/10**

Returns danger levels—pressure points above 50% with percentage to breaking. Cumin's march north at 78%, the food shortage at 62%, the spy in the camp at 55%. This is your threat board, your strategic situational awareness.

### Who might betray us?
**Quality: 8/10**

Returns divided loyalties—characters with multiple oath narratives that might conflict. Waltheof has sworn to both Saxon heritage and Norman service; certain thegns have promised loyalty to multiple lords. These characters face impossible choices and might resolve them unpredictably.

---

## ATMOSPHERIC QUERIES

### Holy ground
**Quality: 7/10**

Returns sacred sites—abbeys, monasteries, holy wells, standing stones. Durham Cathedral, Whitby Abbey, St. Helen's Well, the Devil's Arrows. These are sanctuary locations (sometimes), oath-swearing sites, places where the supernatural feels close. Different rules apply on holy ground.

### Norman strongholds
**Quality: 8/10**

Returns enemy territory—castles and holds under Norman control. York Castle, Durham Castle, Richmond Castle, Scarborough Castle. These are danger zones for Saxons, infiltration targets, symbols of occupation. The walls are going up; the conquest is becoming permanent.

### The wild places
**Quality: 7/10**

Returns untamed land—forests, wilderness, moors where Norman law doesn't reach. Galtres Forest, the Cleveland Hills, Pickering Forest. These are resistance territory, hiding places, dangerous but free. The wild places don't care about conquest.

### Armed characters
**Quality: 7/10**

Returns who carries weapons—the armed and dangerous. Norman knights with swords, Saxon huscarls with axes, outlaws with bows. Before any confrontation, know who can fight and with what. The unarmed are vulnerable; the armed are threats or assets.

### The weather of war - place moods
**Quality: 6/10**

Returns emotional geography—places grouped by their prevailing mood. Hostile places cluster in occupied zones; fearful places are villages expecting raids; desperate places are those already burned. The emotional map of the North under conquest.

---

## DEBUGGING & HEALTH CHECKS

### Count all nodes by type
**Quality: 4/10**

Returns totals—how many characters, places, things, narratives exist in the graph. Character: 45, Place: 112, Thing: 33, Narrative: 87. Useful for verifying data loading, not for gameplay.

### Count all relationships by type
**Quality: 4/10**

Returns relationship totals—how many BELIEVES, AT, CARRIES, CONNECTS links exist. BELIEVES: 234, AT: 45, CONNECTS: 89. Technical verification that the graph is properly connected.

### Orphan nodes
**Quality: 5/10**

Returns disconnected data—nodes with no relationships. These are data errors; every node should connect to something. A character with no location and no beliefs is a ghost in the system. Fix or remove.

### Characters without locations
**Quality: 5/10**

Returns homeless characters—people who exist but aren't anywhere. Every living character should have an AT relationship to some place. Dead characters might lack locations (they're in graves, not on the map). Living characters without locations are bugs.

### Things floating in void
**Quality: 5/10**

Returns lost items—things neither located at a place nor carried by a character. Every thing should be somewhere or with someone. Items in void are data errors unless they're meant to be "location unknown" (like Harold's sword).

### Narratives no one knows
**Quality: 5/10**

Returns orphan stories—narratives that no character has any belief relationship with. These are wasted content; narratives only matter if someone believes them. Either connect them to characters or question why they exist.

### Schema validation - invalid types
**Quality: 4/10**

Returns data quality issues—characters with types that aren't in the valid enum. A character typed as "character" instead of "minor" would appear here. These break assumptions and should be corrected to valid values.
