### docs/connectome/edge_kit/PATTERNS_Connectome_Edge_Kit_Color_Coded_Trigger_Typed_Directional_Link_Styling_Patterns.md

$$$

# edge_kit — Patterns: Color-Coded, Trigger-Typed, Directional Edge Styling

STATUS: DRAFT
CREATED: 2025-12-20
VERIFIED: 2025-12-20 against ?
$$$

---

## CHAIN

$$$
THIS:            PATTERNS_Connectome_Edge_Kit_Color_Coded_Trigger_Typed_Directional_Link_Styling_Patterns.md (you are here)
BEHAVIORS:       ./BEHAVIORS_Connectome_Edge_Kit_Readable_Directional_And_Truthful_Link_Effects.md
ALGORITHM:       ./ALGORITHM_Connectome_Edge_Kit_Edge_Rendering_Pulse_Shine_And_Label_Placement_Rules.md
VALIDATION:      ./VALIDATION_Connectome_Edge_Kit_Invariants_For_Color_Dash_And_Pulse_Truth.md
IMPLEMENTATION:  ./IMPLEMENTATION_Connectome_Edge_Kit_Component_Map_And_Render_Tokens.md
HEALTH:          ./HEALTH_Connectome_Edge_Kit_Runtime_Verification_Of_Link_Visibility_And_Semantic_Styling.md
SYNC:            ./SYNC_Connectome_Edge_Kit_Sync_Current_State.md
$$$

### Bidirectional Contract

$$$
Before modifying this doc or the code:

1. Read ALL docs in this chain
2. Read event_model (edge styling is entirely driven by FlowEvent.trigger and FlowEvent.call_type)

After modifying this doc:

* Update implementation OR record mismatch in SYNC

After modifying the code:

* Update docs OR record mismatch in SYNC

Never degrade:

* readability of edge labels
* correct mapping of color ↔ call_type
* correct mapping of dash ↔ trigger
* pulse directionality and “stop at node edge”
  $$$

---

## THE PROBLEM

Edges carry the meaning of the connectome.

We need to make links:

* readable (labels not lost in glow)
* semantically colored (call type meaning is immediate)
* directionally legible (movement and shine show direction)
* non-overbearing (less bold than earlier, but still visible)
* stable under stepping (no vanishing)

Also: graph links must not look like nodes.

---

## THE PATTERN

**Trigger-typed dash styles + call-type color palette + directional shine + magnitude pulses.**

Each edge is rendered from a normalized FlowEvent:

* trigger → line pattern

  * direct = solid
  * stream = dotted, gently animated in direction
  * async = dashed, gently animated in direction

* call_type → color

  * graphLink = yellow/orange (ABOUT/THEN/SAID/etc.)
  * graphQuery = purple
  * code = blue
  * llm = green
  * moment = yellow (rare as an edge; usually moment is a node behavior)

* activity → glow and persistent highlight

  * active edge remains bright until next step
  * subtle shine animation indicates direction even when inactive (low amplitude)

* energy_delta → pulse magnitude + thickness modulation (bounded)

Key insight:

> Edges are the verbs of the system.
> If you can’t read the edge, you can’t understand the flow.

---

## PRINCIPLES

### Principle 1: Semantic color mapping is strict and deterministic

Color communicates call_type instantly. Never “art direct” per edge.

### Principle 2: Labels are readable and not bold

* label text is NOT bold
* label uses background halo or stroke for contrast
* label font is large enough at zoom=1.0
* label color matches call_type

### Principle 3: Direction is always visible

Two mechanisms:

* subtle “shine” animation moving along the edge in the correct direction
* pulses (when an event occurs) travel from source boundary to target boundary

### Principle 4: Pulses stop at node edges

Pulse particles should not run through node interiors.

Implementation: compute intersection point with node bounds (circle/rounded rect) and clamp endpoints.

### Principle 5: Graph links are edges, not nodes

ABOUT/THEN/SAID are rendered as edges only.
Optional: a fuzzy halo at midpoint to represent “link energy” if needed, but not as a card node.

---

## EDGE TYPES (V1)

### Edge style by trigger

* `DirectEdge` — solid
* `StreamEdge` — dotted + continuous gentle animation
* `AsyncEdge` — dashed + gentle animation

### Edge color by call_type

* graphLink → yellow/orange gradient
* graphQuery → purple
* code → blue
* llm → green

---

## DEPENDENCIES

| Module           | Why                                                |
| ---------------- | -------------------------------------------------- |
| `event_model`    | provides trigger + call_type for strict styling    |
| `state_store`    | provides active_focus and energy_delta             |
| `flow_canvas`    | provides geometry: node bounds, zoom, transforms   |
| `runtime_engine` | determines when edges become active (step release) |

---

## SCOPE

### In Scope

* edge stroke width policy (less bold than prior)
* edge label style policy (not bold, readable)
* directional shine animation (especially for stream edges)
* pulse animation for events (magnitude scaled, min duration 200ms)
* pulse clamping to node boundaries
* active edge persistent highlight until next step
* tooltip content for edges (payload summary, rate, notes, call_type/trigger)

### Out of Scope

* node rendering (node_kit)
* layout + label collision resolution (flow_canvas owns)
* event normalization (event_model)
* log formatting (log_panel)

---

## GAPS / IDEAS / QUESTIONS

* [ ] Decide whether graphLink is always yellow OR can be yellow/orange by subtype (ABOUT vs THEN) → `?`
* QUESTION: do we allow edge thickness to vary with energy_delta in v1, or only pulse size? (recommend: pulse size only for readability)
* IDEA: show tiny arrowheads only on hover to reduce clutter.

---

---

### docs/connectome/edge_kit/BEHAVIORS_Connectome_Edge_Kit_Readable_Directional_And_Truthful_Link_Effects.md

$$$

# edge_kit — Behaviors: Readable, Directional, Truthful Link Effects

STATUS: DRAFT
CREATED: 2025-12-20
VERIFIED: 2025-12-20 against ?
$$$

---

## CHAIN

$$$
PATTERNS:        ./PATTERNS_Connectome_Edge_Kit_Color_Coded_Trigger_Typed_Directional_Link_Styling_Patterns.md
THIS:            BEHAVIORS_Connectome_Edge_Kit_Readable_Directional_And_Truthful_Link_Effects.md (you are here)
ALGORITHM:       ./ALGORITHM_Connectome_Edge_Kit_Edge_Rendering_Pulse_Shine_And_Label_Placement_Rules.md
VALIDATION:      ./VALIDATION_Connectome_Edge_Kit_Invariants_For_Color_Dash_And_Pulse_Truth.md
IMPLEMENTATION:  ./IMPLEMENTATION_Connectome_Edge_Kit_Component_Map_And_Render_Tokens.md
HEALTH:          ./HEALTH_Connectome_Edge_Kit_Runtime_Verification_Of_Link_Visibility_And_Semantic_Styling.md
SYNC:            ./SYNC_Connectome_Edge_Kit_Sync_Current_State.md
$$$

---

## BEHAVIORS

### B1: Link meaning is readable at zoom=1.0

$$$
GIVEN:  the diagram is at zoom=1.0
THEN:   edge labels are readable and not overwhelmed by glow
AND:    label text is not bold
AND:    label color encodes call_type
$$$

### B2: Trigger type is visible without reading

$$$
GIVEN:  a link has trigger type direct/stream/async
THEN:   its dash style communicates it:
direct=solid
stream=dotted
async=dashed
$$$

### B3: Stream links visibly “flow” in the correct direction

$$$
GIVEN:  trigger=stream
THEN:   the edge has gentle directional animation that moves from source to target
AND:    this animation is subtle (non-distracting)
$$$

### B4: Active link highlight persists until next step

$$$
GIVEN:  a step releases an event along an edge
THEN:   that edge becomes bright/active
AND:    it stays active until the next step releases a new active focus
$$$

### B5: Pulses stop at node edges, not through nodes

$$$
GIVEN:  a pulse travels along an edge
THEN:   the pulse begins at the source node boundary
AND:    ends at the target node boundary
$$$

### B6: Energy transfer magnitude is perceptible but bounded

$$$
GIVEN:  an event has energy_delta
THEN:   pulse size/glow intensity scales with magnitude
BUT:    it is clamped so it never obscures labels or nodes
$$$

---

## ANTI-BEHAVIORS

### A1: Graph links rendered as nodes

$$$
MUST NOT: render ABOUT/THEN/SAID as card-like nodes
INSTEAD: render them as edges with optional fuzzy halos
$$$

### A2: Labels in bold

$$$
MUST NOT: bold the link title text
INSTEAD: readable size + halo/contrast
$$$

---

## EDGE CASES

### E1: Unknown call_type/trigger

$$$
GIVEN:  trigger or call_type is unknown
THEN:   render using neutral defaults and show “?” tooltip
$$$

---

## GAPS / IDEAS / QUESTIONS

* QUESTION: should async edges have a different motion profile than stream edges? (maybe slower, more “chunky”)

---

---

### docs/connectome/edge_kit/ALGORITHM_Connectome_Edge_Kit_Edge_Rendering_Pulse_Shine_And_Label_Placement_Rules.md

$$$

# edge_kit — Algorithm: Rendering, Pulses, Directional Shine, and Label Rules

STATUS: DRAFT
CREATED: 2025-12-20
VERIFIED: 2025-12-20 against ?
$$$

---

## CHAIN

$$$
PATTERNS:        ./PATTERNS_Connectome_Edge_Kit_Color_Coded_Trigger_Typed_Directional_Link_Styling_Patterns.md
BEHAVIORS:       ./BEHAVIORS_Connectome_Edge_Kit_Readable_Directional_And_Truthful_Link_Effects.md
THIS:            ALGORITHM_Connectome_Edge_Kit_Edge_Rendering_Pulse_Shine_And_Label_Placement_Rules.md (you are here)
VALIDATION:      ./VALIDATION_Connectome_Edge_Kit_Invariants_For_Color_Dash_And_Pulse_Truth.md
IMPLEMENTATION:  ./IMPLEMENTATION_Connectome_Edge_Kit_Component_Map_And_Render_Tokens.md
HEALTH:          ./HEALTH_Connectome_Edge_Kit_Runtime_Verification_Of_Link_Visibility_And_Semantic_Styling.md
SYNC:            ./SYNC_Connectome_Edge_Kit_Sync_Current_State.md
$$$

---

## OVERVIEW

edge_kit renders edges based on FlowEvent semantics plus canvas geometry.

Inputs:

* edge view model: from_node, to_node, trigger, call_type, label, payload_summary, rate_hint, energy_delta
* active focus: which edge is active
* geometry: node bounds and zoom

Outputs:

* stroke (color, dash)
* label (text, color, halo)
* directional shine (continuous for stream, optional for others)
* pulse animation (when step released)

---

## DATA STRUCTURES

### `ConnectomeEdgeViewModel`

$$$
ConnectomeEdgeViewModel:
edge_id: string
from_node_id: string
to_node_id: string
trigger: direct|stream|async|hook|timer
call_type: code|graphQuery|llm|graphLink|moment
label: string
payload_summary: string|null
rate_hint: string|null
energy_delta: number|null
notes: string|null
$$$

---

## ALGORITHM: `style_for_edge(edge)`

### Step 1: Dash style from trigger

$$$
dash =
direct: none
stream: dotted pattern
async: dashed pattern
hook: dotted (or hook pattern) (?)
timer: dashed (or timer pattern) (?)
$$$

### Step 2: Color from call_type

$$$
color =
graphLink: yellow_or_orange
graphQuery: purple
code: blue
llm: green
moment: yellow
unknown: neutral
$$$

### Step 3: Stroke width policy (less bold)

$$$
base_width = 2.5
active_width = 3.5
hover_width = 3.0
clamp widths to avoid “thick spaghetti”
$$$

---

## ALGORITHM: `compute_label_style(edge)`

* label text is not bold
* label font size ~13px at zoom=1.0
* label halo/background always enabled for contrast
* label color matches edge color

---

## ALGORITHM: `compute_pulse_duration_ms(edge, declared_duration_ms, speed)`

* use declared duration if available
* else use speed-based default
* clamp min 200ms

$$$
pulse_duration_ms = max(200, declared_duration_ms ?? default_for_speed(speed))
$$$

---

## ALGORITHM: `compute_pulse_path_clamped_to_node_bounds(edge, geometry)`

Goal: pulse starts/ends at node edge, not node center.

1. Get line/bezier between node centers
2. Intersect with source node boundary shape (rounded rect/circle) → start_point
3. Intersect with target node boundary shape → end_point
4. Return clamped path for pulse

If intersection fails:

* fallback to center-based, but mark notes="?" and warn in HEALTH

---

## ALGORITHM: directional shine animation

For all edges:

* apply subtle animated gradient along stroke

For stream edges:

* amplitude higher and continuous
* direction: source → target

For async edges:

* slower, chunkier (optional)

Implementation can be CSS stroke-dashoffset animation or shader-like gradient in SVG/canvas depending on renderer.

---

## ALGORITHM: energy magnitude mapping → pulse visuals

$$$
pulse_radius = clamp(3 + (energy_delta * k), 3, 12)
pulse_glow   = clamp(0.2 + (energy_delta * g), 0.2, 1.0)
$$$

Where k and g are tuned constants.

If energy_delta unknown:

* use default pulse size

---

## COMPLEXITY

* O(1) per edge render
* intersection math O(1) per pulse

---

## GAPS / IDEAS / QUESTIONS

* QUESTION: Do we show arrowheads? likely only on hover to reduce clutter.
* IDEA: For graphLink subtype (ABOUT vs THEN), tint yellow vs orange.

---

---

### docs/connectome/edge_kit/VALIDATION_Connectome_Edge_Kit_Invariants_For_Color_Dash_And_Pulse_Truth.md

$$$

# edge_kit — Validation: Invariants for Color, Dash, Direction, and Pulse Truth

STATUS: DRAFT
CREATED: 2025-12-20
VERIFIED: 2025-12-20 against ?
$$$

---

## CHAIN

$$$
PATTERNS:        ./PATTERNS_Connectome_Edge_Kit_Color_Coded_Trigger_Typed_Directional_Link_Styling_Patterns.md
BEHAVIORS:       ./BEHAVIORS_Connectome_Edge_Kit_Readable_Directional_And_Truthful_Link_Effects.md
ALGORITHM:       ./ALGORITHM_Connectome_Edge_Kit_Edge_Rendering_Pulse_Shine_And_Label_Placement_Rules.md
THIS:            VALIDATION_Connectome_Edge_Kit_Invariants_For_Color_Dash_And_Pulse_Truth.md (you are here)
IMPLEMENTATION:  ./IMPLEMENTATION_Connectome_Edge_Kit_Component_Map_And_Render_Tokens.md
HEALTH:          ./HEALTH_Connectome_Edge_Kit_Runtime_Verification_Of_Link_Visibility_And_Semantic_Styling.md
SYNC:            ./SYNC_Connectome_Edge_Kit_Sync_Current_State.md
$$$

---

## INVARIANTS

### V1: Trigger → dash mapping is strict

$$$
direct  => solid
stream  => dotted
async   => dashed
$$$

### V2: Call type → color mapping is strict

$$$
graphLink  => yellow/orange
graphQuery => purple
code       => blue
llm        => green
moment     => yellow
$$$

### V3: Label is not bold and remains readable

$$$
label font weight is normal
label has halo/background for contrast
$$$

### V4: Pulse duration minimum

$$$
pulse_duration_ms >= 200ms
$$$

### V5: Pulse endpoints stop at node edges

$$$
pulse path start/end must lie on node boundary intersection (within tolerance)
$$$

### V6: Active edge persists until next step

$$$
active edge remains active until store.active_focus.edge_id changes
$$$

---

## ERROR CONDITIONS

### E1: Color mismatch

* severity: ERROR
* meaning: semantics are lying

### E2: Edge disappears

* severity: ERROR
* meaning: instrument broken

### E3: Pulse goes through node interior

* severity: WARN/ERROR depending on frequency

---

## HEALTH COVERAGE

| Validation | Health Indicator                      |
| ---------- | ------------------------------------- |
| V1/V2      | edge_semantic_style_mapping_integrity |
| V4         | edge_min_pulse_duration_integrity     |
| V5         | edge_pulse_endpoint_clamp_integrity   |
| V6         | edge_active_persistence_integrity     |
| E2         | edge_visibility_integrity             |

---

## VERIFICATION PROCEDURE

### Manual

$$$
[ ] Compare edge style to trigger badges in log
[ ] Confirm link title not bold
[ ] Stream edges show gentle directional motion
[ ] Pulses stop at node boundaries
[ ] Active edge remains bright until Next
$$$

### Automated

$$$
pnpm connectome:health edge_kit
$$$

---

## GAPS / IDEAS / QUESTIONS

* QUESTION: define numerical tolerance for boundary intersection (pixels) → `?`

---

---

### docs/connectome/edge_kit/HEALTH_Connectome_Edge_Kit_Runtime_Verification_Of_Link_Visibility_And_Semantic_Styling.md

$$$

# edge_kit — Health: Link Visibility and Semantic Styling Verification

STATUS: DRAFT
CREATED: 2025-12-20
$$$

---

## PURPOSE OF THIS FILE

edge_kit HEALTH ensures links do not lie or vanish:

* correct dash for trigger
* correct color for call type
* labels readable and not bold
* pulses obey min duration and boundary clamps
* active edge persistence

---

## CHAIN

$$$
PATTERNS:        ./PATTERNS_Connectome_Edge_Kit_Color_Coded_Trigger_Typed_Directional_Link_Styling_Patterns.md
BEHAVIORS:       ./BEHAVIORS_Connectome_Edge_Kit_Readable_Directional_And_Truthful_Link_Effects.md
ALGORITHM:       ./ALGORITHM_Connectome_Edge_Kit_Edge_Rendering_Pulse_Shine_And_Label_Placement_Rules.md
VALIDATION:      ./VALIDATION_Connectome_Edge_Kit_Invariants_For_Color_Dash_And_Pulse_Truth.md
IMPLEMENTATION:  ./IMPLEMENTATION_Connectome_Edge_Kit_Component_Map_And_Render_Tokens.md
THIS:            HEALTH_Connectome_Edge_Kit_Runtime_Verification_Of_Link_Visibility_And_Semantic_Styling.md
SYNC:            ./SYNC_Connectome_Edge_Kit_Sync_Current_State.md

IMPL:            ? (planned) scripts/connectome/health/edge_kit_health_check_runner.ts
$$$

---

## FLOWS ANALYSIS (TRIGGERS + FREQUENCY)

$$$
flows_analysis:

* flow_id: edge_render_on_step_release
  purpose: verify active edge styling and pulse behavior
  triggers:

  * type: manual
    source: runtime_engine Next click
    frequency:
    expected_rate: "human driven"
    risks:
  * "edge disappears"
  * "wrong dash/color"
  * "pulse too fast"
  * "pulse goes through nodes"
    $$$

---

## HEALTH INDICATORS SELECTED

$$$
health_indicators:

* name: edge_semantic_style_mapping_integrity
  flow_id: edge_render_on_step_release
  priority: high

* name: edge_visibility_integrity
  flow_id: edge_render_on_step_release
  priority: high

* name: edge_pulse_endpoint_clamp_integrity
  flow_id: edge_render_on_step_release
  priority: med
  $$$

---

## CHECKER INDEX

$$$
checkers:

* name: health_check_trigger_maps_to_correct_dash_style
  purpose: "V1: direct/stream/async mapping."
  status: pending

* name: health_check_calltype_maps_to_correct_color
  purpose: "V2: color mapping."
  status: pending

* name: health_check_edge_labels_not_bold_and_have_halo
  purpose: "V3: readability."
  status: pending

* name: health_check_pulse_duration_minimum
  purpose: "V4: >=200ms."
  status: pending

* name: health_check_pulse_stops_at_node_boundary
  purpose: "V5: boundary clamp."
  status: pending

* name: health_check_active_edge_persists_until_next_step
  purpose: "V6: persistence."
  status: pending

* name: health_check_no_edges_disappear_on_step
  purpose: "E2: visibility integrity."
  status: pending
  $$$

---

## HOW TO RUN

$$$
pnpm connectome:health edge_kit
$$$

---

## KNOWN GAPS

* [ ] Requires a render-probe to extract computed edge styles and label font weight.
* [ ] Boundary intersection checks need geometry probes from flow_canvas.

---

## GAPS / IDEAS / QUESTIONS

* IDEA: expose a debug object per rendered edge to avoid brittle DOM tests.

---

---

### docs/connectome/edge_kit/SYNC_Connectome_Edge_Kit_Sync_Current_State.md

$$$

# edge_kit — Sync: Current State

LAST_UPDATED: 2025-12-20
UPDATED_BY: Marco "Salthand" (agent)
STATUS: DESIGNING
$$$

---

## MATURITY

**Canonical (v1 intent):**

* strict trigger→dash mapping
* strict call_type→color mapping
* labels not bold, readable with halo
* stream edges have gentle directional animation
* pulses stop at node boundaries
* active edge persists until next step

**In design:**

* graphLink subtype tint (ABOUT vs THEN yellow/orange)
* arrowhead policy (hover only)

---

## CURRENT STATE

Docs defined; implementation not started.

Immediate priorities:

* implement edge render components
* implement directional shine (especially for stream)
* implement pulse boundary clamps

---

## TODO

* [ ] implement edge components in edge_kit folder
* [ ] implement style tokens and mapping tables
* [ ] implement geometry clamp helper for pulse endpoints (coordinate with flow_canvas)
* [ ] add edge_kit health checks

Run:

$$$
pnpm connectome:health edge_kit
$$$

---

---

### docs/connectome/edge_kit/IMPLEMENTATION_Connectome_Edge_Kit_Component_Map_And_Render_Tokens.md

$$$

# edge_kit — Implementation: Component Map and Render Tokens

STATUS: DRAFT
CREATED: 2025-12-20
$$$

---

## CHAIN

$$$
PATTERNS:        ./PATTERNS_Connectome_Edge_Kit_Color_Coded_Trigger_Typed_Directional_Link_Styling_Patterns.md
BEHAVIORS:       ./BEHAVIORS_Connectome_Edge_Kit_Readable_Directional_And_Truthful_Link_Effects.md
ALGORITHM:       ./ALGORITHM_Connectome_Edge_Kit_Edge_Rendering_Pulse_Shine_And_Label_Placement_Rules.md
VALIDATION:      ./VALIDATION_Connectome_Edge_Kit_Invariants_For_Color_Dash_And_Pulse_Truth.md
THIS:            IMPLEMENTATION_Connectome_Edge_Kit_Component_Map_And_Render_Tokens.md
HEALTH:          ./HEALTH_Connectome_Edge_Kit_Runtime_Verification_Of_Link_Visibility_And_Semantic_Styling.md
SYNC:            ./SYNC_Connectome_Edge_Kit_Sync_Current_State.md

IMPL:            app/connectome/components/edge_kit/semantic_edge_components_with_directional_shine_and_pulses.tsx (PROPOSED)
$$$

---

## CODE STRUCTURE

$$$
app/
└── connectome/
├── components/
│   └── edge_kit/
│       ├── semantic_edge_components_with_directional_shine_and_pulses.tsx
│       ├── connectome_edge_style_tokens_for_trigger_and_calltype_mapping.ts
│       ├── connectome_edge_label_renderer_with_halo_and_zoom_policy.tsx
│       ├── connectome_edge_directional_shine_animation_helpers.ts
│       ├── connectome_edge_pulse_particle_animation_and_boundary_clamp_helpers.ts
│       └── connectome_node_boundary_intersection_geometry_helpers.ts
$$$

### File Responsibilities

| File                                                                     | Responsibility                      | Key Exports                             |
| ------------------------------------------------------------------------ | ----------------------------------- | --------------------------------------- |
| `semantic_edge_components_with_directional_shine_and_pulses.tsx`         | Edge components used by flow_canvas | `DirectEdge`, `StreamEdge`, `AsyncEdge` |
| `connectome_edge_style_tokens_for_trigger_and_calltype_mapping.ts`       | strict mappings                     | `styleForTrigger`, `colorForCallType`   |
| `connectome_edge_label_renderer_with_halo_and_zoom_policy.tsx`           | label rendering (not bold)          | `EdgeLabel`                             |
| `connectome_edge_directional_shine_animation_helpers.ts`                 | shine animation definitions         | `makeShineStroke`                       |
| `connectome_edge_pulse_particle_animation_and_boundary_clamp_helpers.ts` | pulses, magnitude scaling           | `renderPulse`, `computePulseDuration`   |
| `connectome_node_boundary_intersection_geometry_helpers.ts`              | clamp endpoints at node edges       | `intersectWithRoundedRect`              |

---

## RENDER TOKENS (V1)

### Base widths (less bold)

* base: 2.5
* active: 3.5

### Call type colors

* graphLink: yellow/orange
* graphQuery: purple
* code: blue
* llm: green

### Label

* font weight normal
* halo/stroke always on
* color matches edge

---

## ENTRY POINTS

| Entry                             | Used By             |
| --------------------------------- | ------------------- |
| `DirectEdge/StreamEdge/AsyncEdge` | flow_canvas         |
| `EdgeLabel`                       | edge components     |
| `intersectWithRoundedRect`        | pulse clamp helpers |

---

## DATA FLOW AND DOCKING

Edges consume edge view models produced by flow_canvas (which reads store).

$$$
flow:
name: edge_kit_renders_edge_view_models
steps:
- flow_canvas passes edge view model
- edge_kit maps trigger/call_type to style tokens
- edge_kit renders label + shine + pulses
docking_points:
- none in code; HEALTH reads styles via probes
$$$

---

## CONFIGURATION

| Config                 | Default |
| ---------------------- | ------- |
| MIN_PULSE_MS           | 200     |
| SHINE_AMPLITUDE_STREAM | higher  |
| SHINE_AMPLITUDE_DIRECT | subtle  |

---

## GAPS / IDEAS / QUESTIONS

* [ ] Decide whether hook/timer triggers need unique visuals beyond dotted/dashed.
* QUESTION: do we allow graphLink subtypes to shift yellow/orange?
